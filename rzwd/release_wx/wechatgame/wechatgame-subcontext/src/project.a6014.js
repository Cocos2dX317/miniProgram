window.__require=function e(t,n,o){function i(r,a){if(!n[r]){if(!t[r]){var s=r.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!a&&l)return l(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+r+"'")}}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){return i(t[r][1][e]||e)},u,u.exports,e,t,n,o)}return n[r].exports}for(var c="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({rank:[function(e,t,n){"use strict";cc._RF.push(t,"1bf9bUYqYBMQLHz8tuJnmxv","rank"),cc.Class({extends:cc.Component,properties:{item:{default:null,type:cc.Node},scrollView:{default:null,type:cc.Node},itembg1:cc.SpriteFrame,itembg2:cc.SpriteFrame,myOpenid:0},onLoad:function(){console.info("rank sub display onLoad")},start:function(){var e=this,t=this;wx.onMessage(function(n){if(console.log(n),"setUserCloudStorage"==n.name){var o=n.data;console.info(o.score),wx.setUserCloudStorage({KVDataList:[{key:"score",value:""+o.score}],success:function(e){console.log(e)},fail:function(e){console.log(e)}})}else if("getFriendCloudStorage"==n.name)wx.getFriendCloudStorage({keyList:["score"],success:function(e){console.info("getFriendCloudStorage",e),t.Scroll_View(e.data)},fail:function(e){console.error(e)}});else if("setMyOpenId"==n.name){var i=n.data;e.myOpenid=i.openid}}),wx.getUserInfo({openIdList:["selfOpenId"],lang:"zh_CN",success:function(e){console.log("success",e.data);e.data[0]},fail:function(e){reject(e)}})},loadHttpIcon:function(e,t,n){t&&""!=t||(t="http://thirdwx.qlogo.cn/mmopen/vi_32/opmkDJhG2jpF8X8AfFQfTauRlpBc7VeFicJevZ9IiajEl5g4ia75opNSZOb0FvDV87BvpUN1rsyctibGnicP7uibsMtw/132"),cc.loader.load({url:t,type:"png"},function(t,o){var i=new cc.SpriteFrame(o);e.getComponent(cc.Sprite).spriteFrame=i,n&&n(),console.info("Should load a texture from RESTful API by specify the type: "+(o instanceof cc.Texture2D))})},Scroll_View:function(e){e.sort(function(e,t){var n=0,o=0;return e.KVDataList.length>0&&(n=parseInt(e.KVDataList[0].value)),t.KVDataList.length>0&&(o=parseInt(t.KVDataList[0].value)),n<o?1:n>o?-1:0});var t=e.length>=10?10:e.length;console.info("Scroll_View",t);var n=0;this.scrollView.getComponent(cc.ScrollView).content.height=125*t;for(var o=0,i=0;i<t;i++){var c=e[i],r=0;if(c.KVDataList.length>0&&(r=parseInt(c.KVDataList[0].value)),console.info(i,c),c){var a=cc.instantiate(this.item);a.active=!0,this.scrollView.getComponent(cc.ScrollView).content.addChild(a);this.scrollView.getComponent(cc.ScrollView).content.width,this.scrollView.getComponent(cc.ScrollView).content.height;i%1,n=parseInt(i/1),a.setPosition(cc.v2(0,-(62.5+125*n))),a.getChildByName("name").getComponent(cc.Label).string=c.nickname,console.info(a.getChildByName("score")),console.info(a.getChildByName("score").getComponent(cc.Label)),a.getChildByName("score").getComponent(cc.Label).string=r,a.getChildByName("num").getComponent(cc.Label).string="NO."+(i+1),c.nickname==this.myOpenid&&((o=c).score=r,o.index=i+1,a.getComponent(cc.Sprite).spriteFrame=this.itembg2)}}}}),cc._RF.pop()},{}]},{},["rank"]);